@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    scroll-behavior: smooth;
    transition: background-color 0.3s ease, color 0.3s ease;
  }
  
  body {
    @apply text-gray-900 dark:text-gray-100;
    background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
    transition: background-color 0.3s ease, color 0.3s ease;
  }

  /* Dark mode body background */
  .dark body {
    background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
  }

  /* Dark mode scrollbar */
  ::-webkit-scrollbar {
    width: 8px;
  }

  ::-webkit-scrollbar-track {
    @apply bg-gray-100 dark:bg-gray-800;
  }

  ::-webkit-scrollbar-thumb {
    @apply bg-gray-300 dark:bg-gray-600 rounded-full;
  }

  ::-webkit-scrollbar-thumb:hover {
    @apply bg-gray-400 dark:bg-gray-500;
  }
}

@layer components {
  .card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-gray-200 dark:border-gray-700 p-6;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
    transition: background-color 0.3s ease, border-color 0.3s ease, box-shadow 0.3s ease;
  }

  .dark .card {
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.3), 0 2px 4px -1px rgba(0, 0, 0, 0.2);
  }
  
  .btn-primary {
    @apply bg-msg-gradient hover:bg-msg-gradient-dark text-white px-6 py-3 rounded-lg font-semibold transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-lg hover:shadow-xl transform hover:-translate-y-0.5;
  }
  
  .btn-secondary {
    @apply bg-white hover:bg-gray-50 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-700 dark:text-gray-200 px-4 py-2 rounded-lg font-medium transition-all duration-200 border border-gray-300 dark:border-gray-600 hover:border-gray-400 dark:hover:border-gray-500 shadow-sm hover:shadow;
  }
  
  .btn-msg {
    @apply bg-msg-orange hover:bg-primary-600 text-white px-4 py-2 rounded-lg font-medium transition-all duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-md hover:shadow-lg;
  }

  .btn-theme {
    @apply p-2 rounded-lg bg-gray-100 hover:bg-gray-200 dark:bg-gray-700 dark:hover:bg-gray-600 text-gray-600 dark:text-gray-300 transition-all duration-200 shadow-sm hover:shadow;
  }
  
  .input-field {
    @apply w-full px-4 py-3 border border-gray-300 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-msg-orange focus:border-transparent outline-none transition-all duration-200 bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400;
  }
  
  .msg-card {
    @apply bg-white dark:bg-gray-800 rounded-xl shadow-lg border border-primary-200 dark:border-gray-700 p-6;
    background: linear-gradient(135deg, rgba(255, 247, 237, 0.8) 0%, rgba(255, 255, 255, 1) 100%);
    transition: background-color 0.3s ease, border-color 0.3s ease;
  }

  .dark .msg-card {
    background: linear-gradient(135deg, rgba(31, 41, 55, 0.8) 0%, rgba(17, 24, 39, 1) 100%);
  }
  
  .msg-header {
    background: linear-gradient(135deg, #1e293b 0%, #334155 50%, #475569 100%);
  }

  .dark .msg-header {
    background: linear-gradient(135deg, #0f172a 0%, #1e293b 50%, #334155 100%);
  }
  
  .msg-accent {
    @apply text-msg-orange font-semibold;
  }

  /* MSG Subtle Background - responsive to theme */
  .bg-msg-subtle {
    background: linear-gradient(135deg, #fff7ed 0%, #ffedd5 100%);
    transition: background 0.3s ease;
  }

  .dark .bg-msg-subtle {
    background: linear-gradient(135deg, #1f2937 0%, #111827 100%);
  }

  /* AI Processing Model section - Enhanced dark mode support */
  .ai-model-section {
    @apply bg-gradient-to-r from-primary-50 to-orange-50 dark:from-gray-700 dark:to-gray-600 rounded-lg p-4;
  }

  .ai-model-section h3 {
    @apply text-gray-900 dark:text-gray-100;
  }

  /* Response boxes - Enhanced dark mode text colors */
  .response-box {
    @apply bg-gradient-to-r from-white to-primary-50 dark:from-gray-800 dark:to-gray-700 rounded-lg border border-primary-200 dark:border-gray-600 p-4;
  }

  .response-box .response-header {
    @apply text-gray-900 dark:text-gray-100;
  }

  .response-box .response-meta {
    @apply text-gray-500 dark:text-gray-400;
  }

  .response-content {
    @apply bg-white dark:bg-gray-900 rounded-lg p-4 border border-gray-200 dark:border-gray-700 shadow-sm;
  }

  .response-content pre {
    @apply text-gray-700 dark:text-gray-300;
  }

  /* Model selector dropdown fix */
  .model-selector {
    @apply bg-white dark:bg-gray-800 border border-gray-300 dark:border-gray-600 text-gray-900 dark:text-gray-100;
  }

  .model-selector option {
    @apply bg-white dark:bg-gray-800 text-gray-900 dark:text-gray-100;
  }

  /* Theme transition for all elements */
  * {
    transition: background-color 0.3s ease, border-color 0.3s ease, color 0.3s ease;
  }

  /* Custom scrollbar for dark mode */
  .dark {
    color-scheme: dark;
  }

  /* Enhanced focus states for dark mode */
  .dark .input-field:focus {
    @apply ring-msg-orange ring-opacity-50;
  }

  /* Selection colors */
  ::selection {
    @apply bg-msg-orange text-white;
  }

  .dark ::selection {
    @apply bg-primary-600 text-white;
  }

  /* Specific fixes for text in AI model sections */
  .ai-processing-text {
    @apply text-gray-900 dark:text-gray-100;
  }

  .ai-processing-description {
    @apply text-gray-600 dark:text-gray-400;
  }

  /* Response generation section text */
  .response-section-text {
    @apply text-gray-900 dark:text-gray-100;
  }

  .response-section-description {
    @apply text-gray-600 dark:text-gray-400;
  }

  /* Analysis results text */
  .analysis-text {
    @apply text-gray-900 dark:text-gray-100;
  }

  .analysis-description {
    @apply text-gray-700 dark:text-gray-300;
  }
}